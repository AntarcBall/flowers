# 관람형 인터랙티브 꽃 정원 작품: 동작 명세

## 1) 작품 정체성 (Narrative)

이 작품은 관람자가 실제 키보드(노트북 입력)를 통해 우주 공간을 비행하며 별을 선택하면,
선택한 별의 의미(단어)와 연결된 꽃 형태가 전시장 바닥으로 수놓아지는 구조의 실시간 시각 작품이다.

- 우주 공간: `space` 상호작용 영역.
- 정원 공간: 선택 이벤트의 결과를 시각적으로 기록하고 확장하는 수용/투사 공간.
- 핵심 관계:
  - 단어 ↔ 별 ↔ 꽃 매개 파라미터
  - 거리 기반 의미 군집(우주 좌표의 의미 거리 맵)
  - 클릭/선택은 우주에서만 발생
  - 정원은 재생성만 수행, 직접 조작 불가

## 2) 시스템 관점의 현재 흐름

1. `Space`에서 키보드 조작으로 우주선 회전/이동 (`SpaceshipController`).
2. 조준한 별 데이터가 `StarSelectionData` 형태로 선택됨.
3. `Space`에서 심기(Plant) 액션 발생 시 꽃 파라미터/색상/단어가 저장소에 기록됨.
4. `Garden`은 저장된 데이터셋을 읽어 실시간/반복 렌더링.
5. 관람자는 정원을 이동할 수 있으나, 꽃 추가 입력은 금지되어야 함.

## 3) 이번 요청 반영 시 기준: 정원은 “수동 제어 금지”

- 정원 페이지(`garden.html` / GardenScene)는 관람자 입력으로 꽃을 추가하면 안 됨.
- 우주에서 입력된 플라워 이벤트만 반영되어야 함.
- 정원은 “생성된 흔적의 기록 갤러리”이자 “라이브 프로젝션 면”으로 동작.

## 4) 24/7 전시장 운영 시나리오

- 장시간 동작 조건:
  - 컴퓨터가 상시 켜져 있는 상태를 가정.
  - 새로운 별 선택 이벤트가 발생하면 즉시(또는 근접 실시간) 정원에 반영되어야 함.
- 운영상 요구:
  - 오랜 시간 동작 시 메모리 증분이 과도하게 성장하지 않아야 함.
  - 동일한 시점에 다수 사용자가 없더라도 장시간 노이즈(입력/저장 에러)에 회복적이어야 함.
- 권장 동작:
  - Flower 저장소는 단일 진실 소스(Single Source)로 간주.
  - 정원은 매 렌더 프레임마다 상태를 “입력 없이” 표출.
  - 저장 실패/파싱 실패 시 이전 정원 상태를 유지(완충).

## 5) 감각 설계 기준 (Art Direction) - 앞으로의 업그레이드 기준

1. 우주(의도)와 정원(기록) 언어 통일
   - 우주 별 컬러/형태 매핑과 정원 투사 결과의 시각 규칙이 일치해야 함.
2. 정원은 관람 동선보다 “우주 흔적의 시간 지도” 느낌
   - 꽃의 크기·명도·그림자·라벨은 시간축(심기 시점)과 대응되면 깊이가 생김.
3. 의미 군집의 가시적 증거
   - 유사 단어/비슷한 꽃 파라미터가 화면 상에서 시각적으로 유사하거나 근접한 군집 형태로 보이게 유지.
4. 과도한 UI 노출 최소화
   - 정원은 장식 텍스트보다 장면 몰입을 우선.

## 6) 현재 정렬 과제(코드 관점)

## 6-1. 조작권 경계
- `GardenPage`의 현재 안내 문구와 `GardenScene` 내 `onClick` 식재 로직은 작품 요구사항의 “정원 직접 입력 금지”와 충돌 가능성이 있음.
- 우주 선택 동작과 정원 기록 동작의 경계를 명확히 분리해야 함.

## 6-2. 실시간성
- 정원은 “현재 실행 중인 저장 상태”를 반영해야 하므로, 저장소 변경 이벤트 또는 폴링 기반 동기화 전략을 분리해야 함.
- 현재 구조는 새로고침 시점 중심 초기화 경향이 강할 수 있어 장시간 모니터링에서 즉시성 개선 여지.

## 6-3. 공간 비유 일관성
- `Space`는 탐색 맵, `Garden`은 흔적 투사층으로 역할 분리를 강화해야 함.
- 정원은 장면 자체가 예술 개체가 되도록, 수치 UI를 줄이고 라이트·안개·층위 텍스처 중심 구성이 필요.

## 7) 다음 업그레이드 설계 제약(권장)

1. 정원은 읽기 전용 모드 고정  
   - 우주에서 발생한 `FlowerData`만 렌더링.
2. 저장소는 유실·중복에 강인한 정규화
   - 잘못된 엔트리 자동 제외, 오래된/손상 데이터 무시.
3. 24/7 실행 대응
   - 자동 정리 정책(최대 개체 수, 연령 기반 페이드 등) 도입.
4. 비가시적 상태 최소화
   - 관람자가 UI보다 작품 본체를 보도록 HUD를 축소.

## 8) 업그레이드 반영 우선순위 제안

1. 우선: 정원 입력 차단/문구 정합 + 비개입 모드 보강
2. 둘째: 실시간 저장 동기화 계층 도입(새 이벤트 반영)
3. 셋째: 정원 라이트/깊이/라벨 연출의 층위 업그레이드
4. 넷째: 장기 운영 성능/메모리 정리 정책 적용

